(self.webpackChunkproject_catwalk_fec=self.webpackChunkproject_catwalk_fec||[]).push([[235],{4235:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>W});var n=r(7294),a=r(9669),o=r.n(a),l=(r(695),r(7351)),i=r(1330),c=r(682),u=r(9966),s=r(4479),m=r(5005),d=r(6363),f=r(9469);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const v=function(e){var t,r=y((0,n.useState)(e),1)[0].body,a=y((0,n.useState)(e),1)[0].date,l=y((0,n.useState)(e),1)[0].helpfulness,p=y((0,n.useState)(l),2),v=p[0],b=p[1],h=y((0,n.useState)(e),1)[0].photos,g=y((0,n.useState)(e),1)[0].rating,E=y((0,n.useState)((function(){return Math.floor(4*g)})),1)[0],S=y((0,n.useState)(e),1)[0].recommend,w=y((0,n.useState)(e),1)[0].response,x=y((0,n.useState)(e),1)[0].reviewId,O=y((0,n.useState)(e),1)[0].reviewerName,j=y((0,n.useState)(e),1)[0].summary,k=y((0,n.useState)(!1),2),A=k[0],I=k[1],C=y((0,n.useState)(!1),2),Z=C[0],N=C[1],T=y((0,n.useState)(!1),1)[0],M=y((0,n.useState)(!1),2),P=M[0],D=M[1],F=y((0,n.useState)(null),2),B=F[0],R=F[1],L=function(){return D(!1)},z=y((0,n.useState)(function(){if(h.length>0){var e=h.map((function(e){return n.createElement(i.Z,{onClick:function(){return function(e){D(!0),R(e)}(e.url)},style:{width:"100px",height:"auto",marginTop:"10px",objectFit:"cover"},src:e.url,rounded:!0,thumbnail:"true"})}));return n.createElement(c.Z,{style:{height:"150px"},className:"d-flex bd-highlight mb-3"},e)}return n.createElement(n.Fragment,null)}()),1)[0],G=function(e,t){for(var r,n=e.substring(0,t),a=[" ","!",".","?"],o=n.length;o>=0;o-=1)if(a.includes(n[o])){r=o,n=n.substring(0,o);break}return[n,e.substring(r)]};return n.createElement("div",{className:"review-tile"},n.createElement(d.Z,{show:P,onHide:L,backdrop:"static",keyboard:!1,dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title"},n.createElement("div",{style:{justifyContent:"center"}},n.createElement(i.Z,{style:{width:"100%",height:"auto"},src:B,rounded:!0,thumbnail:"true"}),n.createElement("button",{style:{marginTop:"2%",marginLeft:"5%",width:"90%",height:"auto"},type:"button",onClick:L,id:"review-button"},"Close"))),n.createElement(s.Z,{style:{color:"#525252"},border:"0"},n.createElement("div",{id:"star"},n.createElement(f.Z,{stop:20,step:4,fractions:4,initialRating:E,readonly:"true",quiet:"false",emptySymbol:n.createElement("i",{id:"star-icon",className:"bi bi-star"}),fullSymbol:n.createElement("i",{id:"star-icon",className:"bi bi-star-fill"})})),n.createElement("div",{id:"user-container",className:"d-inline-flex justify-content-end"},n.createElement("div",{id:"user-container-item",className:"ml-3"},O),",",n.createElement("div",{id:"user-container-item",className:"ml-3"},a),T?n.createElement("div",{id:"verified-purchaser"},n.createElement("i",{id:"verified-icon",className:"bi bi-check-circle-fill"}),n.createElement("div",{className:"ml-2"},"Verified Purchaser")):n.createElement(n.Fragment,null)),n.createElement("div",{className:"mt-3",id:"review-text-container",key:JSON.stringify(h)},n.createElement(s.Z.Title,null,function(){if(j.length>60){var e=y(G(j,59),2),t=e[0],r=e[1];return[n.createElement("strong",null,"".concat(t,"...")),n.createElement("div",{style:{color:"#949494",fontSize:"12px",marginTop:"10px",marginBottom:"20px"}},"...".concat(r))]}return[n.createElement("div",null,n.createElement("strong",null,j))]}()),function(){var e=y((0,n.useState)(!1),2),t=e[0],a=e[1];if(r.length>=250){var o=y(G(r,249),2),l=o[0],i=o[1];return n.createElement("div",null,n.createElement("div",{style:{color:"#949494"}},"".concat(l,"...")),n.createElement(u.Z,{in:t},n.createElement("div",null,n.createElement(s.Z.Text,{id:"collapse-text",style:{color:"#949494"}},i))),n.createElement(m.Z,{block:"true",size:"sm",style:{color:"#949494"},variant:"link",onClick:function(){return a(!t)},"aria-controls":"collapse-text","aria-expanded":t},"Show More"))}return r}()),(t=[],w&&t.push(n.createElement("div",{className:"mt2",style:{backgroundColor:"#ebebeb"},id:"owner-response"},n.createElement("div",{style:{color:"#454545"}},n.createElement("strong",null,"Response:")),n.createElement("div",{className:"mt-2",style:{fontSize:"15px"}},w))),t),S?n.createElement("div",{id:"recommends"},n.createElement("i",{id:"recommend-icon",className:"bi bi-check2"}),n.createElement("div",{className:"ml-2"},"I recommend this product")):n.createElement(n.Fragment,null),z,n.createElement("div",{style:{color:"#949494"},className:"d-inline-flex"},n.createElement("div",{className:"mt-2"},"Was this helpful?"),n.createElement("a",{style:{color:"#949494"},id:"helpful-yes",className:"ml-auto p-2",onClick:function(){if(!A){b(v+1),I(!0);var e={reviewId:x};o().get("reviews/helpfulness",{params:e}).then((function(){})).catch((function(e){throw e}))}},"aria-hidden":"true"},n.createElement("u",null,"Yes")),n.createElement("div",{className:"mt-2"},"(",v,")"),n.createElement("div",{className:"ml-auto p-2"},"|"),n.createElement("a",{style:{color:"#949494"},id:"helpful-yes",className:"ml-auto p-2","aria-hidden":"true",onClick:function(){if(!Z){var e={reviewId:x};o().get("reviews/report",{params:e}).then((function(){})).catch((function(e){throw e})),N(!0)}}},n.createElement("u",null,"Report")))),n.createElement("hr",{style:{border:"1px solid black"}}))};var b=r(3935),h=r(2151),g=r(1555),E=r(3065),S=r(5503);r(9140),S.Z.initializeApp({apiKey:"AIzaSyBocgHVX-9CU6E3CG5_w2DAKs0UmxSb1_s",authDomain:"frontend--capstone.firebaseapp.com",projectId:"frontend--capstone",storageBucket:"frontend--capstone.appspot.com",messagingSenderId:"363443525448",appId:"1:363443525448:web:7e33f4f2034b8f1319c57d",measurementId:"G-06CQSHMVCB"});var w=S.Z.storage();function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const I=function(e){var t=k((0,n.useState)(20),2),r=t[0],a=t[1],l=k((0,n.useState)(""),2),i=l[0],c=l[1],u=k((0,n.useState)(""),2),s=u[0],m=u[1],d=k((0,n.useState)(""),2),f=d[0],y=d[1],p=k((0,n.useState)(""),2),S=p[0],x=p[1],A=k((0,n.useState)(!1),2),I=A[0],C=A[1],Z=k((0,n.useState)(e),1)[0].productId,N=k((0,n.useState)([]),2),T=N[0],M=N[1],P=k((0,n.useState)([]),2),D=P[0],F=P[1],B=k((0,n.useState)({}),2),R=B[0],L=B[1],z=k((0,n.useState)(e),1)[0].handleClose,G=function(){var e={};return i&&""!==i||(e.name="invalid name!"),S&&/\S+@\S+\.\S+/.test(S)||(e.email="invalid email!"),(!s||""===s||s.length>60)&&(e.summary="invalid summary!"),(!f||""===f||f.length<49)&&(e.body="invalid body!"),e},H=function(e,t,r,n){r(e.slice(0,t)),function(e){if(R[e]){L(O(O({},R),{},j({},e,null)));var t=G();Object.keys(t).length>0&&L(t)}}(n)};return(0,n.useEffect)((function(){f.length>=50?F("Minimum reached"):F("Minimum required characters left: ".concat(50-f.length))}),[f]),n.createElement(h.Z,null,n.createElement(h.Z.Row,null,n.createElement("div",{style:{marginTop:"10px"}},n.createElement(h.Z.Check,{type:"checkbox",id:"default-checkbox",label:"I recommend this item",value:I,onChange:function(){return C(!I)}}))),n.createElement(h.Z.Row,null,n.createElement(h.Z.Group,{as:g.Z,controlId:"formGridName"},n.createElement(h.Z.Label,null,n.createElement("div",{style:{marginTop:"20px"}},"Name")),n.createElement(h.Z.Control,{placeholder:"jackson11!",value:i,onChange:function(e){return H(e.target.value,60,c,"name")},type:"name",isInvalid:!!R.name}),n.createElement(h.Z.Control.Feedback,{type:"invalid"},R.name),n.createElement(h.Z.Text,{id:"summaryHelpBlock",muted:!0},"For privacy reasons, do not use your full name or email address")),n.createElement(h.Z.Group,{as:g.Z,controlId:"formGridEmail"},n.createElement(h.Z.Label,null,n.createElement("div",{style:{marginTop:"20px"}},"Email")),n.createElement(h.Z.Control,{placeholder:"jackson11@email.com",value:S,onChange:function(e){return H(e.target.value,60,x,"email")},type:"email",isInvalid:!!R.email}),n.createElement(h.Z.Control.Feedback,{type:"invalid"},R.email),n.createElement(h.Z.Text,{id:"summaryHelpBlock",muted:!0},"For authentication reasons, you will not be emailed"))),n.createElement(h.Z.Group,{controlId:"formGridSummary"},n.createElement(h.Z.Label,null,n.createElement("div",{style:{marginTop:"20px"}},"Summary")),n.createElement(h.Z.Control,{placeholder:"Example: Best purchase ever!",onChange:function(e){return H(e.target.value,60,m,"summary")},value:s,isInvalid:!!R.summary}),n.createElement(h.Z.Control.Feedback,{type:"invalid"},R.summary),n.createElement(h.Z.Text,{id:"summaryHelpBlock",muted:!0},"Your summary must be 1-60 characters long.")),n.createElement(h.Z.Group,{controlId:"formGridBody"},n.createElement(h.Z.Label,null,n.createElement("div",{style:{marginTop:"20px"}},"Review")),n.createElement(h.Z.Control,{as:"textarea",placeholder:"Why did you like the product or not?",onChange:function(e){return H(e.target.value,1e3,y,"body")},value:f,isInvalid:!!R.body}),n.createElement(h.Z.Control.Feedback,{type:"invalid"},R.body),n.createElement(h.Z.Text,{id:"bodyHelpBlock",muted:!0},D)),n.createElement(h.Z.Group,null,n.createElement(E.IN,{acceptedFiles:["image/*"],filesLimit:5,fileObjects:T,onAdd:function(e){M(e)},onDelete:function(e){M(T.filter((function(t){return t.data!==e.data})))},dropzoneText:"Upload up to (5) images",showFileNames:!0})),n.createElement("button",{type:"button",id:"review-button",onClick:z},"Close"),n.createElement("button",{type:"submit",onClick:function(e){e.preventDefault();var t=G();Object.keys(t).length>0?L(t):function(){for(var e=[],t=[],l=function(r){var n=w.ref("images/".concat(T[r].file.name)).put(T[r].file);e.push(new Promise((function(e,a){n.on("state_changed",(function(){}),(function(e){a(e)}),(function(){w.ref("images").child(T[r].file.name).getDownloadURL().then((function(r){t.push(r),e(r)}))}))})))},u=0;u<T.length;u+=1)l(u);Promise.all(e).then((function(){var e,l;e=t,l={product_id:Z,rating:r/4,summary:s,body:f,recommend:Boolean(I),name:i,email:S,photos:e,characteristics:{53846:5,53847:5,53848:3,53849:3}},function(e){var t,a,o,l,c=e.map((function(e){return{url:e}})),u=n.createElement(v,{key:Math.random().toString(36).substr(2,9),body:f,date:(t=new Date,a=["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()+1],o=t.getDate(),l=t.getFullYear(),"".concat(a," ").concat(o,", ").concat(l)),helpfulness:0,rating:r,photos:c,recommended:I,reviewerName:i,summary:s,yesClicked:!1}),m=document.getElementById("reviews-tiles"),d=Math.random(),y=document.createElement("div");y.id=d,m.prepend(y),b.render(u,document.getElementById(d))}(e),o().post("reviews",l).then((function(){a(20),c(""),m(""),y(""),x(""),C(!1),M([]),z()})).catch((function(e){throw e}))})).catch((function(e){throw e}))}()},id:"review-button"},"Submit Review"))};function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const N=function(e){var t=C((0,n.useState)(20),2),r=t[0],a=t[1],o=C((0,n.useState)(e),1)[0].product,l=C((0,n.useState)(e),1)[0].productId,i=C((0,n.useState)(!1),2),c=i[0],u=i[1],s=function(){return u(!1)};return n.createElement("div",{id:"responseForm"},n.createElement("button",{type:"button",onClick:function(){return u(!0)},id:"review-button"},"ADD A REVIEW +"),n.createElement("div",{id:"review-form"},n.createElement(d.Z,{show:c,onHide:s,backdrop:"static",keyboard:!1,dialogClassName:"modal-90w","aria-labelledby":"example-custom-modal-styling-title"},n.createElement(d.Z.Header,null,n.createElement(d.Z.Title,null,"Write your review")),n.createElement(d.Z.Body,{className:"show-grid"},n.createElement("h5",null,"About the"," ".concat(o)),n.createElement("div",{style:{marginTop:"20px"}},n.createElement(f.Z,{start:0,stop:20,step:4,fractions:4,initialRating:r,emptySymbol:n.createElement("i",{id:"star-icon",className:"bi bi-star"}),fullSymbol:n.createElement("i",{id:"star-icon",className:"bi bi-star-fill"}),onClick:function(e){return a(e)}})),n.createElement(I,{productId:l,handleClose:s})))))};function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const P=function(e){var t=T((0,n.useState)(e),1)[0].reviews,r=T((0,n.useState)(e),1)[0].product,a=T((0,n.useState)(e),1)[0].productId,o=T((0,n.useState)([]),2),l=o[0],i=o[1],c=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()+1],r=e.getDate(),n=e.getFullYear();return"".concat(t," ").concat(r,", ").concat(n)},u=function(){var e=[];if(t.length>=l.length){for(var r=l.length;r<l.length+2;r+=1)t[r]&&e.push(n.createElement(v,{key:Math.random().toString(36).substr(2,9),body:t[r].body,date:c(new Date(t[r].date)),helpfulness:t[r].helpfulness,photos:t[r].photos,rating:t[r].rating,recommended:t[r].recommended,response:t[r].response,reviewId:t[r].review_id,reviewerName:t[r].reviewer_name,summary:t[r].summary,yesClicked:!1}));i(l.concat(e))}};return(0,n.useEffect)((function(){return u()}),[]),n.createElement("div",{className:"reviews-list"},n.createElement("div",{id:"reviews-tiles"},l),n.createElement("div",{className:"d-inline-flex mt-5"},n.createElement("div",null,n.createElement("a",{href:"#review-button",onClick:function(){return u()},id:"review-button"},"SHOW MORE")),n.createElement(N,{product:r,productId:a,getDate:c})))};function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const F=function(e){var t,r,a=(t=(0,n.useState)(e),r=1,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?D(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0].rating;return n.createElement("div",{className:"d-inline-flex justify-content-end"},n.createElement("div",{id:"overall-rating-average"},n.createElement("strong",{style:{fontSize:"60px",marginRight:"15px"}},a/4)),n.createElement("div",{style:{marginTop:"20px"},id:"overall-rating-star"},n.createElement(f.Z,{start:0,stop:20,step:4,fractions:4,initialRating:a,emptySymbol:n.createElement("i",{id:"star-icon",className:"bi bi-star"}),fullSymbol:n.createElement("i",{id:"star-icon",className:"bi bi-star-fill"}),readonly:"true"})))};var B,R=r(9163);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const G=function(e){var t=L((0,n.useState)(e),1)[0].ratingBreakdown,r=L((0,n.useState)(e),1)[0].recommendation;return n.createElement("div",null,n.createElement("div",{style:{width:"100%"}},n.createElement("p",{style:{fontSize:"15px"}},r,"% of reviews recommend this product")),n.createElement("div",{style:{height:"80%",width:"100%"}},function(){for(var e,r,a=[],o=1;o<6;o+=1){var l=R.ZP.div(B||(e=["\n        height: 100%;\n        background-color: #454545;\n        width: ","%;\n        &:hover {\n          background-color: green;\n          width: ","%;\n        }\n      "],(r=void 0)||(r=e.slice(0)),B=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))),20*t[o],20*t[o]+2);a.push(n.createElement("div",{key:o,style:{display:"flex",marginTop:"30px"}},n.createElement("div",{style:{position:"relative",fontSize:"15px"}},n.createElement("u",null,o," ","Stars")),n.createElement("div",{style:{marginLeft:"20px",marginTop:"7px",height:10,width:"70%",backgroundColor:"#959595"}},n.createElement(l,null))))}return a}()))};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var n,a,o=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);l=!0);}catch(e){i=!0,a=e}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return o}}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"==typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}const W=function(e){var t=J((0,n.useState)(5),2),r=t[0],a=t[1],i=J((0,n.useState)(1),2),c=i[0],u=(i[1],J((0,n.useState)("relevant"),2)),s=u[0],m=u[1],d=J((0,n.useState)(e),1)[0].productId,f=J((0,n.useState)([]),2),y=f[0],p=f[1],v=J((0,n.useState)(""),2),b=v[0],h=(v[1],J((0,n.useState)({1:0,2:0,3:0,4:0,5:0}),2)),g=h[0],E=h[1],S=J((0,n.useState)(0),2),w=S[0],x=S[1],O=J((0,n.useState)(0),2),j=O[0],k=O[1],A=(0,n.useRef)(!0);return(0,n.useEffect)((function(){var e;return e={page:c,count:r,sort:s,product_id:d},o().get("reviews",{params:e}).then((function(e){var t,r=e.data;a(r.response.count),p(function(e){if(Array.isArray(e))return V(e)}(t=r.response.results)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||$(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())})).catch((function(e){if(A.current)throw e})),function(){A.current=!1}}),[s]),(0,n.useEffect)((function(){var e,t,r;y.length>0&&(t={1:0,2:0,3:0,4:0,5:0},r=0,y.forEach((function(e){t[e.rating]+=1,r+=e.rating})),E(U(U({},g),t)),k(r),e=0,y.forEach((function(t){t.recommend&&(e+=1)})),x(e/y.length*100))}),[y]),n.createElement("div",null,n.createElement("div",{className:"d-inline-flex justify-content-end"},n.createElement("div",{style:{marginLeft:"20px"}},n.createElement("div",{style:{margin:"5px auto"}},n.createElement(F,{key:j,rating:Math.floor(j/y.length*4)})),n.createElement("div",{style:{width:"350px"}},n.createElement(G,{key:JSON.stringify(g),ratingBreakdown:g,recommendation:w}))),n.createElement("div",{style:{marginLeft:"50px",width:"70%",marginTop:"20px"}},n.createElement("div",{id:"review-sort",style:{display:"flex"}},n.createElement("strong",{style:{marginTop:"5px",marginLeft:"5px"}},y.length," ","reviews, sorted by"),n.createElement("div",{id:"dropdown-list",style:{marginLeft:"5px",marginBottom:"10px"}},n.createElement(l.Z,{defaultValue:"Relevant",data:["Helpful","Newest","Relevant"],onChange:function(e){return m(e.toLowerCase())}}))),n.createElement("div",{id:"reviews-list"},y.length>0?n.createElement(P,{key:JSON.stringify(y),reviews:y,product:b,productId:d}):n.createElement(n.Fragment,null)))))}}}]);